---
language: "ruby"
script: "bundle exec rake rubocop validate lint spec"
matrix:
  include:
  <%- if @configs.dig('test_with_debian_puppet', 'stretch') -%>
  - name: "Debian Stretch"
    rvm: "2.3.3"
    env: PUPPET_VERSION='4.8.2'
  <%- end -%>
  <%- if @configs.dig('test_with_debian_puppet', 'buster') -%>
  - name: "Debian Buster"
    rvm: "2.5.1"
    env: PUPPET_VERSION='5.4.0'
  <%- end -%>
  - name: "Puppet 5"
    rvm: "2.4.4"
    env: PUPPET_VERSION='~> 5.0'
  - name: "Puppet 6"
    rvm: "2.5.1"
    env: PUPPET_VERSION='~> 6.0'
notifications:
  email:
    - sysadmins@opus-codium.fr
